// by 6Harmonics Qige @ 2017.02.18 - 2017.04.20
!function($){$.cache={init:function(){$.cache._invalid=-999},fmt:{"float":function(num){return Math.floor(10*num)/10}},calc:{thrpt:function(bytes,bytes_last){var thrpt=0;if(bytes>bytes_last){var ts_gap=1,bits=bytes-bytes_last,mbits=8*bits/1024/1024;thrpt=mbits/ts_gap}return thrpt=$.cache.fmt["float"](thrpt)}},RANDOM:{"int":function(range){return Math.round(Math.random()*(range||10))}},stop:function(){store.flot.intl.each(function(){$(this)&&clearInterval($(this))})},save:{instant:function(){var _=store.query;store.query_last=_,store.query=null}},query:{failed:{instant:function(){var data={local:null,nw:null};return data},delayed:function(){var data={gws:{rgn:1,ch:43,freq:650,agc:0,rxg:-10+$.cache.RANDOM["int"](30),txpwr:21,tpc:$.cache.RANDOM["int"](1),chbw:8},sys:{qos:1,firewall:0,atf:-1,tdma:1}};return data}},DEMO:{instant:function(idx){var peers,x=$.cache.RANDOM["int"](100);peers=x>5?[{mac:"01:53:01:09:19:15",ip:"192.168.1.211",signal:-75+$.cache.RANDOM["int"](10),noise:-101+$.cache.RANDOM["int"](2),tx_mcs:4,tx_br:22+$.cache.RANDOM["int"](2),rx_mcs:4,rx_br:18+$.cache.RANDOM["int"](2),tx_short_gi:-1,rx_short_gi:-1,inactive:$.cache.RANDOM["int"](2048)}]:null;var data={abb:{bssid:"01:35:11:05:35:56",noise:-99+$.cache.RANDOM["int"](2),chbw:8,mode:"CAR",ssid:"gws2017",encrypt:"",peers:peers},nw:{bridge:1,wmac:"13:51:10:53:55:6"+idx,wan_ip:"",lan_ip:"192.168.1.21"+idx,eth_txb:$.cache.RANDOM["int"](4194304),eth_rxb:$.cache.RANDOM["int"](2097152),wls_txb:$.cache.RANDOM["int"](1048576),wls_rxb:$.cache.RANDOM["int"](3145728)}};return data},delayed:function(){var data={gws:{rgn:1,ch:43,freq:650,agc:0,rxg:-10+$.cache.RANDOM["int"](30),txpwr:21,tpc:$.cache.RANDOM["int"](1),chbw:8},sys:{qos:1,firewall:0,atf:-1,tdma:1}};return data}}},sync:{local:{instant:function(){$.ajax({url:"/cgi-bin/get",data:{k:"instant"},success:function(resp){store.query={local:resp}},error:function(xhr,status,error){store.debug&&console.log("get?k=instant","error> local (instant) failed",error),store.query=$.cache.query.failed.instant()},timeout:666,dataType:"json"})},delayed:function(){$.ajax({url:"/cgi-bin/get",data:{k:"delayed"},success:function(resp){store.delayed=resp},error:function(xhr,status,error){store.debug&&console.log("get?k=delayed","error> local (delayed) failed",error),store.delayed=$.cache.query.failed.delayed()},dataType:"json",timeout:4e3})}},proxy:function(){$.ajax({url:"/cgi-bin/proxy",data:{mac:"",ip:""},success:function(resp){},error:function(){store.debug&&console.log("error> peers sync failed")},dataType:"json",timeout:4e3})},DEMO:function(){var demo={local:$.cache.query.DEMO.instant(0),peers:[$.cache.query.DEMO.instant(1),$.cache.query.DEMO.instant(2)]};store.query=demo;var delayed=$.cache.query.DEMO.delayed(0);store.delayed=delayed}},parse:{chscan:function(idx,noise){var cs=store&&"chscan"in store?store.chscan:null;null==cs&&(cs=[]),idx>=21&&(console.log("scan > ",idx,noise,cs.length),noise>-999?cs.push([470+8*(idx-21),noise]):cs.push(null)),store.chscan=cs},instant:{local:function(){var _local_history,query=store&&"query"in store?store.query:null,query_last=store&&"query_last"in store?store.query_last:null,local=query&&"local"in query?query.local:null,local_last=query_last&&"local"in query_last?query_last.local:null,history=store&&"history"in store?store.history:null,local_history=history&&"local"in history?history.local:null,noise=$.cache._invalid,eth_rx_thrpt=eth_tx_thrpt=0,wls_rx_thrpt=wls_tx_thrpt=0,_noise="noise"in local_history?local_history.noise:[],_eth_tx_thrpt="eth_tx_thrpt"in local_history?local_history.eth_tx_thrpt:[],_eth_rx_thrpt="eth_rx_thrpt"in local_history?local_history.eth_rx_thrpt:[],_wls_tx_thrpt="wls_tx_thrpt"in local_history?local_history.wls_tx_thrpt:[],_wls_rx_thrpt="wls_rx_thrpt"in local_history?local_history.wls_rx_thrpt:[];if(local){if("abb"in local&&"noise"in local.abb&&(noise=local.abb.noise||$.cache._invalid),"nw"in local&&local_last&&"nw"in local_last){var nw=local.nw;local_last.nw;"eth_txb"in nw&&local_last&&"nw"in local_last&&("eth_txb"in local_last.nw&&(eth_tx_thrpt=$.cache.calc.thrpt(local.nw.eth_txb,local_last.nw.eth_txb)),"eth_rxb"in local_last.nw&&(eth_rx_thrpt+=$.cache.calc.thrpt(local.nw.eth_rxb,local_last.nw.eth_rxb))),"wls_txb"in local.nw&&local_last&&"nw"in local_last&&("wls_txb"in local_last.nw&&(wls_tx_thrpt=$.cache.calc.thrpt(local.nw.wls_txb,local_last.nw.wls_txb)),"wls_rxb"in local_last.nw&&(wls_rx_thrpt+=$.cache.calc.thrpt(local.nw.wls_rxb,local_last.nw.wls_rxb))),eth_tx_thrpt=$.cache.fmt["float"](eth_tx_thrpt),eth_rx_thrpt=$.cache.fmt["float"](eth_rx_thrpt),wls_tx_thrpt=$.cache.fmt["float"](wls_tx_thrpt),wls_rx_thrpt=$.cache.fmt["float"](wls_rx_thrpt),store.debug&&console.log("实时> eth/wls tx/rx Thrpt:",eth_tx_thrpt,eth_rx_thrpt,wls_tx_thrpt,wls_rx_thrpt)}}else noise=$.cache._invalid,eth_rx_thrpt=eth_tx_thrpt=-1,wls_rx_thrpt=wls_tx_thrpt=-1;_noise=$.flot.one(local_history.noise,noise,60),_eth_tx_thrpt=$.flot.one(local_history.eth_tx_thrpt,eth_tx_thrpt,60),_eth_rx_thrpt=$.flot.one(local_history.eth_rx_thrpt,eth_rx_thrpt,60),_wls_tx_thrpt=$.flot.one(local_history.wls_tx_thrpt,wls_tx_thrpt,60),_wls_rx_thrpt=$.flot.one(local_history.wls_rx_thrpt,wls_rx_thrpt,60),_local_history={noise:_noise,eth_tx_thrpt:_eth_tx_thrpt,eth_rx_thrpt:_eth_rx_thrpt,wls_tx_thrpt:_wls_tx_thrpt,wls_rx_thrpt:_wls_rx_thrpt},store.history.local=_local_history},peers:function(){var _peer_history=[],_invalid=$.cache._invalid,query=store&&"query"in store?store.query:null,local=query&&"local"in query?query.local:null,abb=local&&"abb"in local?local.abb:null,peers=abb&&"peers"in abb?abb.peers:null;peers&&peers.length>0&&$.each(peers,function(idx,obj){$.ui.update.peer(idx,obj);var snr,_peer={},history=store&&"history"in store?store.history:null,peers_history=history&&"peers"in history?history.peers:null,peer_history=peers_history&&peers_history.length>idx?peers_history[idx]:null,_rx_br=[],_rx_mcs=[],_tx_br=[],_tx_mcs=[],_snr=[],rx_br=obj&&"rx_br"in obj?obj.rx_br:0,rx_mcs=obj&&"rx_mcs"in obj?obj.rx_mcs:0,tx_br=obj&&"tx_br"in obj?obj.tx_br:0,tx_mcs=obj&&"tx_mcs"in obj?obj.tx_mcs:0,noise=obj&&"noise"in obj?obj.noise:_invalid,signal=obj&&"signal"in obj?obj.signal:_invalid;snr=signal&&noise?signal-noise:0,0>snr&&(snr=0),tx_br==rx_br&&(tx_br-=.1,rx_br+=.1),tx_mcs==rx_mcs&&(tx_mcs-=.05,rx_mcs+=.05),store.debug&&console.log("实时> peer"+idx+" rxbr/rxmcs/txbr/txmcs/snr=",rx_br,rx_mcs,tx_br,tx_mcs,snr),peer_history?(_rx_br=$.flot.one(peer_history.rx_br,rx_br,60),_rx_mcs=$.flot.one(peer_history.rx_mcs,rx_mcs,60),_tx_br=$.flot.one(peer_history.tx_br,tx_br,60),_tx_mcs=$.flot.one(peer_history.tx_mcs,tx_mcs,60),_snr=$.flot.one(peer_history.snr,snr,60)):(_rx_br.push(rx_br),_rx_mcs.push(rx_mcs),_tx_br.push(tx_br),_tx_mcs.push(tx_mcs),_snr.push(snr)),_peer.rx_br=_rx_br,_peer.rx_mcs=_rx_mcs,_peer.tx_br=_tx_br,_peer.tx_mcs=_tx_mcs,_peer.snr=_snr,_peer_history[idx]=_peer}),store.history.peers=_peer_history}}},update:{instant:function(){$.cache.sync.local.instant(),$.cache.parse.instant.local(),$.cache.parse.instant.peers(),$.cache.save.instant()},delayed:function(){$.cache.sync.local.delayed()}},DEMO:function(){$.cache.sync.DEMO(),$.cache.parse.instant.local(),$.cache.parse.instant.peers(),$.cache.save.instant()}}}(jQuery),function($){$.ui={init:function(mode){$.materialize.init(),$.flot.init(),$.ui.forms(),"realtime"!=mode&&"proxy"!=mode&&$.ui.obj.DEMO()},settings:{mode:function(_mode){var _val=-1;switch(_mode){case"CAR":_val=2;break;case"Mesh Point":_val=0;break;case"EAR":default:_val=1}$("#qz-set-abb-mode").val(_val)}},update:{peer:function(idx,peer_cache){var _p=$(".qz-peer-chart-n").eq(idx);if(_p){var text1=idx+1+"#远端站：",mac=peer_cache&&"mac"in peer_cache?peer_cache.mac:"",ip=peer_cache&&"ip"in peer_cache?peer_cache.ip:"";text1+=ip?ip:mac,_p.find(".qz-peer-name").text(text1)}},instant:function(){var query=store&&"query_last"in store?store.query_last:null,local=query&&"local"in query?query.local:null,delayed=store&&"delayed"in store?store.delayed:null,abb=local&&"abb"in local?local.abb:null,nw=local&&"nw"in local?local.nw:null,sys=delayed&&"sys"in delayed?delayed.sys:null,abb_text="";if(abb&&(abb.bssid&&(abb_text+=abb.bssid),abb.ssid&&(abb_text+=" | "+abb.ssid),abb.chbw&&(abb_text+=" | "+abb.chbw+"M"),abb.mode&&(abb_text+=" | "+abb.mode),$.ui.settings.mode(abb.mode)),nw){var text="";nw.lan_ip&&"-"!=nw.lan_ip&&(text+=nw.lan_ip,$("#qz-set-lan-ip").val(nw.lan_ip)),nw.wan_ip&&"-"!=nw.wan_ip&&(text+=" / "+nw.wan_ip,$("#qz-set-wan-ip").val(nw.lan_ip)),text+=" 详情",$("#qz-local-nw").text(text),text=abb_text,text+=nw.bridge?" (桥接)":" (路由器)",sys&&(sys.qos>0&&(text+=" | QoS"),sys.firewall>0&&(text+=" | 防火墙"),sys.tdma>0&&(text+=" | TDMA"),sys.atf>0&&(text+=" | ATF")),$("#qz-local-sts").text(text)}},delayed:function(){var delayed=store.delayed,gws=delayed&&"gws"in delayed?delayed.gws:null;delayed&&"sys"in delayed?delayed.sys:null;if(gws){var text,rgn=-1,ch=-1,txpwr=-99,tpc=-1,rxgain=-1,agc=-1,freq=-1,bw=-1;rgn="rgn"in gws?gws.rgn:-1,ch="ch"in gws?gws.ch:-1,text="R"+rgn+" - CH"+ch,$("#qz-local-gws1").text(text),$("#qz-set-gws-rgn").val(rgn),$.ui.obj.set($("#qz-set-gws-ch"),ch),freq=rgn>0?474+8*(ch-21):473+6*(ch-14),bw="bw"in gws?gws.bw:-1,text=bw>0?freq+"MHz - "+bw+"M":freq+"MHz - (未知)",$("#qz-local-gws2").text(text),txpwr="txpwr"in gws?gws.txpwr:-99,tpc="tpc"in gws?gws.tpc:-1,text=txpwr>=-15?txpwr+" dBm":"发射关闭",text+=" - ",text+=tpc>0?"TPC打开":0==tpc?"TPC关闭":"禁用TPC",$("#qz-local-gws3").text(text),$.ui.obj.set($("#qz-set-gws-txpwr"),txpwr),rxgain="rxg"in gws?gws.rxg:-99,agc="agc"in gws?gws.agc:-1,text=rxgain>-99?rxgain+" dB":"0",text+=" - ",text+=agc>0?"AGC打开":0==agc?"AGC关闭":"禁用AGC",$("#qz-local-gws4").text(text),$.ui.obj.set($("#qz-set-gws-rxg"),rxgain>-99?rxgain:"-"),text="note"in gws?gws.note:"...",$("#qz-local-gws5").text(text),store.debug&&console.log("射频> region/channel/txpwr/tpc/rxgain/agc",rgn,ch,txpwr,tpc,rxgain,agc)}}},redraw:function(){$.flot.update()},forms:function(){$("form").submit(function(){return!1})},obj:{enable:function(obj){"object"==typeof obj&&obj.removeAttr("disabled")},disable:function(obj){"object"==typeof obj&&obj.attr("disabled","disabled")},DEMO:function(){var text='<div class="container section center">(演示模式，请先<a href="/grid/index.html">登录</a>)</div>';$("#tab2,#tab3,#tab4,#tab5").html(text)},lock:function(obj){if("object"==typeof obj){var id=obj.attr("id");store.typing_id=id}},unlock:function(obj){if("object"==typeof obj){var id=obj.attr("id"),tid=store.typing_id;tid!=id&&(store.typing_id=null)}},set:function(obj,val){if("object"==typeof obj){var id=obj.attr("id"),tid=store.typing_id;tid!=id&&obj.val(val)}}}}}(jQuery),function($){$.ops={init:function(mode){"demo"==mode?$("#tab2,#tab3,#tab4,#tab5").click(function(){$(this);$.materialize.toast("演示模式下不可用")}):($("#qz-btn-sys-reset").click(function(){$("#qz-modal-chcfm-items").text("重启设备"),$("#qz-modal-chcfm-affected").text("此操作将设备重新启动，所有服务都将受到影响"),$("#qz-btn-confirm-change").attr("ops","reset").attr("val","sys")}),$("#qz-btn-abb-reset").click(function(){$("#qz-modal-chcfm-items").text("模拟基带重置"),$("#qz-modal-chcfm-affected").text("此操作将重置设备的模拟基带，无线通信将受到影响"),$("#qz-btn-confirm-change").attr("ops","reset").attr("val","abb")}),$("#qz-btn-gws-reset").click(function(){$("#qz-modal-chcfm-items").text("射频重置"),$("#qz-modal-chcfm-affected").text("此操作将重置设备的射频链路，无线通信将受到影响"),$("#qz-btn-confirm-change").attr("ops","reset").attr("val","gws")}),$("#qz-btn-nw-reset").click(function(){$("#qz-modal-chcfm-items").text("网络重置"),$("#qz-modal-chcfm-affected").text("此操作将重置设备的网络配置，网络部分将受到影响，包括无线通信"),$("#qz-btn-confirm-change").attr("ops","reset").attr("val","nw")}),$("#qz-btn-fw-factory").click(function(){$("#qz-modal-chcfm-items").text("恢复出厂设置"),$("#qz-modal-chcfm-affected").text("此操作将重置设备到出厂状态，所有当前的配置都有可能丢失"),$("#qz-btn-confirm-change").attr("ops","init").attr("val","new")}),$("#qz-btn-confirm-change").click(function(){var ops=$(this).attr("ops"),val=$(this).attr("val");console.log("ops>",ops,val);var url="/cgi-bin/"+ops;val&&(url+="?k="+val),$.ops.ajax(val,url,null)}),$(".qz-input-submit").keydown(function(e){if(13==e.keyCode){var obj=$(this);obj.qz={_com:obj.attr("alt"),_item:obj.attr("name"),_val:obj.val()},$.ops.change(obj)}}).focus(function(){var obj=$(this);$.ui.obj.lock(obj)}).blur(function(){var obj=$(this);$.ui.obj.unlock(obj)}),$(":checkbox").click(function(){var obj=$(this),current="checked"==obj.attr("checked")||!1;current?obj.removeAttr("checked"):obj.attr("checked",!0),obj.qz={_com:obj.attr("alt"),_item:obj.attr("name"),_val:"checked"==obj.attr("checked")?"on":"off"},"undefined"!=obj.qz._com&&"undefined"!=obj.qz._item&&$.ops.change(obj)}),$("select").change(function(){var obj=$(this);obj.qz={_com:obj.attr("alt"),_item:obj.attr("name"),_val:obj.val()},$.ops.change(obj)}),$("#qz-btn-chscan-start").click(function(){$("#qz-modal-chcfm-items").text("频率扫描警告"),$("#qz-modal-chcfm-affected").text("此操作将频繁操作设备的模拟基带，无线通信将受到影响"),$("#qz-btn-confirm-change").attr("ops","tool").attr("val","scan")}),$("#qz-btn-chscan-stop").click(function(){$("#qz-modal-chcfm-items").text("频率扫描警告"),$("#qz-modal-chcfm-affected").text("此操作将重置设备的模拟基带，您的无线通信将会恢复"),$("#qz-btn-confirm-change").attr("ops","tool").attr("val","scan_abord")}),$("#qz-btn-flood-start").click(function(){var obj=$(this);$.ops.tool.flood(obj)}),$("#qz-btn-ping-start").click(function(){var obj=$(this);$.ops.tool.ping(obj)}),$("#qz-btn-cmd-start").click(function(){var obj=$(this);$.ops.tool.cmd(obj)})),$(".qz-btn-local-chart-fields").click(function(){var type=$(this).attr("alt");store.flot.fields=type})},bind:{peer_btn:function(){$(".qz-btn-peer-proxy").click(function(){var mac=$(this).attr("alt");console.log("> prepare proxy dialog/modal. dev=",mac),$.materialize.toast("高级功能，请升级至专业版。")})}},tool:{flood:function(obj){var target=$("#qz-tool-flood-target").val(),times=$("#qz-tool-flood-times").val(),bw=$("#qz-tool-flood-bw").val(),as=$("#qz-tool-flood-as").attr("checked");store.debug&&console.log("工具> flooding now: to/times/bw/as =",target,times,bw,as),$.ops.ajax("flood","/cgi-bin/tool",{k:"flood",to:target,times:times,bw:bw},obj)},ping:function(obj){var target=$("#qz-tool-ping-target").val(),times=4;store.debug&&console.log("工具> ping now ...",target,times),$.ops.ajax("ping","/cgi-bin/tool",{k:"ping",to:target,times:times},obj)},cmd:function(obj){var cmd=$("#qz-tool-cmd-command").val();store.debug&&console.log("工具> cmd now ...",cmd),$.ops.ajax("cmd","/cgi-bin/tool",{k:"cmd",cmd:cmd},obj)},scan:function(){var _rgn=1,_b=21,_e=51;store.chscan=null,store.chscan_flag="go",$.materialize.toast("正在准备频率扫描，请稍候 ...",6e3),$("#qz-btn-chscan-start").attr("disabled",!0),$("#qz-btn-chscan-stop").attr("disabled",!1),setTimeout("$.ops.tool.scan_read("+_rgn+","+_b+","+_e+")",8e3)},scan_abord:function(){store.chscan_flag="abord",$.materialize.toast("已经根据用户要求停止频率扫描。"),console.log("scan > abort by user")},scan_read:function(_rgn,_b,_e){var flag="chscan_flag"in store?store.chscan_flag:"abord";if(console.log("scan> flag",flag),_e>=_b&&"go"==flag){$.get("/cgi-bin/tool",{k:"scan_read",rgn:_rgn,ch:_b},function(resp){var freq=_rgn>0?474+8*(_b-21):473+6*(_b-14),noise=resp.data.noise;store.debug&&console.log("scan >",_b,freq,noise),$.cache.parse.chscan(_b,noise+110),$.flot.sync.chscan()},"json").fail(function(){$.materialize.toast("请留意：频道"+_b+"扫描结果读取失败。"),console.log("unknown noise of ch",_b)});var next=_b+1;setTimeout("$.ops.tool.scan_read("+_rgn+","+next+","+_e+")",2250)}else $("#qz-btn-chscan-start").attr("disabled",!1),$("#qz-btn-chscan-stop").attr("disabled",!0),$.materialize.toast("频率扫描已经完成，感谢您的使用。")}},change:function(obj){""!=obj.qz._val&&"-"!=obj.qz._val&&(store.debug&&console.log("save >",obj.qz._com,obj.qz._item,obj.qz._val),$.ops.ajax("Save","/cgi-bin/set",{com:obj.qz._com,item:obj.qz._item,val:obj.qz._val},obj))},ajax:function(ops,url,params,obj){var prompt="";obj&&$.ui.obj.disable(obj),"scan"==ops?$.ops.tool.scan():"scan_abord"==ops&&$.ops.tool.scan_abord(),$.ajax({url:url,method:"get",data:params,timeout:12e4}).done(function(resp){switch(ops){case"abb":prompt="模拟基带部分已重置。";break;case"gws":prompt="射频部分已重置。";break;case"nw":prompt="网络部分已重置。";break;case"sys":prompt="设备正在重启，请稍候……";break;case"flood":prompt="带宽测试已完成。";break;case"ping":prompt="网络诊断已完成。",$("#qz-tool-ping-result").val(resp);break;case"cmd":prompt="命令已执行。",console.log(resp),$("#qz-tool-cmd-result").val(resp);break;case"scan":break;case"scan_abord":break;default:prompt="操作已完成。"}$.materialize.toast(prompt),$.ops.ajax_done(ops),obj&&$.ui.obj.enable(obj)}).fail(function(resp){switch(ops){case"nw":prompt="网络部分已重置。";break;case"sys":prompt="设备正在重启，请稍候……";break;case"flood":prompt="带宽测试失败 ！";break;case"ping":prompt="网络诊断失败 ！",$("#qz-tool-ping-result").val(prompt);break;case"cmd":prompt="命令执行失败！",$("#qz-tool-cmd-result").val(prompt);break;case"scan":break;case"scan_abord":break;default:prompt="操作失败 ！ "}$.materialize.toast(prompt),$.ops.ajax_done(ops),obj&&$.ui.obj.enable(obj)})},ajax_done:function(ops){switch(ops){case"nw":$.materialize.toast("因网络重置，重新载入页面"),setTimeout("$.url.reload()",3e3);break;case"sys":$.materialize.toast("因设备重启，正在关闭此设备",5e3),setTimeout("$.url.goto('/', 'Reboot')",5e3)}},ajax_set:function(text){"object"==typeof obj&&obj.val(text)}}}(jQuery),function($){$.app={init:function(mode){store.mode=mode,$.cache.init(),$.ui.init(mode),$.ops.init(mode)},update:{instant:function(){$.cache.update.instant(),$.ui.redraw(),$.ui.update.instant()},delayed:function(){$.cache.update.delayed(),$.ui.update.delayed()}},DEMO:function(){$.cache.DEMO(),$.ui.redraw(),$.ui.update.instant(),$.ui.update.delayed()},run:function(mode){switch($.app.init(mode),mode){case"realtime":console.log("App Running (realtime)."),$.app.update.instant(),store.flot.intl.local.instant=setInterval("$.app.update.instant()",1e3),$.app.update.delayed(),store.flot.intl.local.delayed=setInterval("$.app.update.delayed()",4e3);break;case"demo":default:console.log("App Running in DEMO mode."),$.app.DEMO(),store.flot.intl.DEMO=setInterval("$.app.DEMO()",1e3)}}}}(jQuery),$(function(){console.log("* NOTICE: CURRENT ONLY AVAILABLE FOR SINGLE PEER!");var m=$.url.get("k")||"demo";$.app.run(m)});
